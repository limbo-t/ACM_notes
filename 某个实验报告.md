## 修改密码

防止sql注入

多重确认匹配逻辑

## 登录

正确的登录逻辑

如果是从comboBox中选择了保存过的账号，那么直接从服务器加载头像信息，根据本地文件加载账号及密码，其他情况下头像自动修改为默认头像

在一个文本文件中保存全部的账号信息

实现了多个账号保存信息的管理，格式为”10225101529 0580730 1 1 1 “

服务协议，超链接

## 多人聊天界面

（实测打开速度快且更新消息时不卡顿）

登录用户的头像显示

隐身设置

初始登陆时更新最近一百条消息

按钮，移动到最上和最下

缓存了NameToUid和UidToName两个字典，实现了快速的studentno和studentname转化（用于比如聊天信息）

图片大小自动设置为300*300，用不变型的zoom格式（自定义函数）

红色，蓝色，黑色的聊天文字

每2秒更新全部的新消息（通过记录最后一条消息的msgID查询数据库），这样不会在更新时卡顿

发送消息时，从comboBox中选择发送对象（name）（遍历NameToUid添加至comboBox）

发送图片使用opendialog，可多选

发送文本时，enter可直接发送，按下shift或ctrl时按下enter则会在文本中换行

自动把发送的’替换为空格，防止sql insert错误

fliter函数根据目录下敏感词文档，过滤敏感词为*

每隔5s更新群成员在线状态及颜色显示（深蓝和浅灰），及在线人数

单击显示群成员信息，双击打开私聊窗口（timer实现）

看到信息包括互动次数（count（*）），如果是自己的信息则可以更改图片和签名（窗口间信息传递）

在公聊页面，收到消息会窗口震动，并调用系统提示音提醒

在公聊页面，收到私聊消息会显示‘’你有新的饲料消息‘’，同时左边列表中人名变红，点进去查阅后变回正常颜色

richtextbox颜色可自定义，重启生效

自动回复功能，回复的文本可自己填写

复读功能，注册为百度翻译开发者，申请api服务，调用api，自动识别群友消息转为English复读（微信学英语）

## 私聊

与公聊相同的逻辑

显示对方实时在线状态

抖动及声音

自动回复

## 聊天记录导出

#### 加载聊天记录

登录账号逻辑，选择msgID范围进行加载，加载到datatable

#### 筛选

根据ID的大小范围，文本或图片，文本包含的信息，from_user，to_user，私聊还是公聊，日期范围

#### 保存到本地

根据当前的datagridview，保存所有信息到本地，文本文件为txt，包含的图片文件以msgid命名



## PS

文件全部保存在相对目录下，可在其他计算机上直接打开即用

